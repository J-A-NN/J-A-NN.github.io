<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>Projet Final - Test</title>
        <link rel="stylesheet" href="styles.css">
	</head>

    <body style="background-color: #32b3eb;">
        <ul>
                <li><a href="index.html">Accueil</a></li>
            
                <li class="dropdown">
                    <button class="dropbtn">4x4</button>
                    <divDropdown class="dropdown-content">
                        <center><a href="facile.html">Facile</a></center>
                        <center><a href="intermÃ©diaire.html">IntermÃ©diaire</a></center>
                        <center><a href="difficile.html">Difficile</a></center>
                    </divDropdown>
                </li>

                <li class="dropdown">
                    <button class="dropbtn">9x9</button>
                    <divDropdown class="dropdown-content">
                        <center><a href="facile.html">Facile</a></center>
                        <center><a href="intermÃ©diaire.html">IntermÃ©diaire</a></center>
                        <center><a href="difficile.html">Difficile</a></center>
                    </divDropdown>
                </li>

                <li class="dropdown">
                    <button class="dropbtn">?x?</button>
                    <divDropdown class="dropdown-content">
                        <center><a href="facile.html">Facile</a></center>
                        <center><a href="intermÃ©diaire.html">IntermÃ©diaire</a></center>
                        <center><a href="difficile.html">Difficile</a></center>
                    </divDropdown>
                </li>
            </ul>
            <center><h1 style="color: #ffd700">Niveau Difficile</h1></center>
            <center><h3 style ="color: #ffffff">Vous allez faire difficile?! J'espÃ¨re que tu connais comment jouer... bonne chance</h3></center>
            <h3 style="color: #21810e"><u>Comment jouer:</u></h3>
            <div>
                <center><p><u>Instructions:</u></p></center>
                <p><b>Cette jeu de sudoku est trÃ¨s simple.</p></b>
                <p><b>Il faut remplir la grille avec des images uniques par ligne, par colonne et par bloc <i>sans rÃ©pition</i></b></p>
                <br>
                <p><b>(Chaque images doit apparaÃ®tre une seule fois dans une ligne, colonne et bloc)</b></p>
                <br>
                <p><b>Mais fais sÃ»r de te rappeler qu'il rÃ©pondre Ã  des questions de math, science, franÃ§ais et plus!</b></p>
            </div>
        <br><br><br>


<d>
Meilleur score: <span id="highscore">0</span> | Score: <span id="afficheScore">0 </span> | Temps restant : <span id="time">03:00</span>
</d>

<br><br><br>

        <center><table>
            <tr>
                <td><center>ğŸ„</center></td>
                <td><center><select id="case1">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                </select></center></td>
                <td><center><select id="case2">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                    </select></center></td>
                <td><center>ğŸ</center></td>
            </tr>

            <tr>
                <td><center><select id="case3">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                    </select></center></td>
                <td><center><select id="case4">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                    </select></center></td>
                <td><center>ğŸ¥›</center></td>
                <td><center><select id="case5">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                </select></center></td>
            </tr>

            <tr>
                <td><center><select id="case6">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                    </select></center></td>
                <td><center>ğŸª</center></td>
                <td><center>ğŸ„</center></td>
                <td><center><select id="case7">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                </select></center></td>    
            </tr>
            <tr>
                <td><center><select id="case8">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                </select></center></td>
                <td><center><select id="case9">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                </select></center></td>
                <td><center><select id="case10">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                </select></center></td>
                <td><center><select id="case11">
                    <option></option>
                    <option>ğŸª</option>
                    <option>ğŸ¥›</option>
                    <option>ğŸ</option>
                    <option>ğŸ„</option>
                </select></center></td>
            </tr>
        </table></center>

        <br><br>
        <center><button onclick="verifierSolution()">VÃ©rifier la solution</button></center>
        <center><button onclick="recommence()">Recommence</button></center>
        <center><div id="divAffiche"></div></center>


        <script>

        function entreeValide() {
            
                if ((document.getElementById("case1").value == "ğŸ¥›") && 
                    (document.getElementById("case2").value == "ğŸª") &&
                    (document.getElementById("case3").value == "ğŸª") &&
                    (document.getElementById("case4").value == "ğŸ") &&
                    (document.getElementById("case5").value == "ğŸ„") &&
                    (document.getElementById("case6").value == "ğŸ") &&
                    (document.getElementById("case7").value == "ğŸ¥›") &&
                    (document.getElementById("case8").value == "ğŸ¥›") &&
                    (document.getElementById("case9").value == "ğŸ„") &&
                    (document.getElementById("case10").value == "ğŸ") &&
                    (document.getElementById("case11").value == "ğŸª")){
                        return true;
                    }
                        return false;       
        }

       function verifierSolution() {
            if (entreeValide()) {
            document.getElementById("divAffiche").innerHTML = "FÃ©licitations! Vous avez rÃ©solu le puzzle!";
            montreScore(1000)
            } else {
            document.getElementById("divAffiche").innerHTML = "Puzzle incorrect, essaye encore! ";
            montreScore(-500)
            }
           
        }


        let score = 0

        function montreScore(pointage){
            score =  score + pointage
            afficheScore.innerHTML = score;
            return score
            updateHighScore(score)
        } 
        
    
    window.onload = function () {
  // load highscore from localStorage
  const savedHigh = localStorage.getItem("highscore");
  if (savedHigh !== null) {
    document.getElementById("highscore").textContent = savedHigh;
  }
  
  function updateHighscore(score) {
  const currentHigh = parseInt(localStorage.getItem("highscore") || "0", 10);
  if (score > currentHigh) {
    localStorage.setItem("highscore", score);
    document.getElementById("highscore").textContent = score;
  }
}
    }
        


        //CrÃ©ation du timer. Source: https://stackoverflow.com/questions/20618355/how-to-write-a-countdown-timer-in-javascript
        function startTimer(duration, display) {
    var timer = duration, minutes, seconds;
    setInterval(function () {
        minutes = parseInt(timer / 60, 10);
        seconds = parseInt(timer % 60, 10);

        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        display.textContent = minutes + ":" + seconds;

        if (--timer < 0) {
            timer = duration;
        }
    }, 1000);
}

window.onload = function () {
    var fiveMinutes = 60 * 3,
        display = document.querySelector('#time');
    startTimer(fiveMinutes, display);
};

function recommence(){
    if (startTimer(duration,display) == "0"){
        localStorage.removeItem("time");
    }
}
 
        </script>
    </body>
</html>
